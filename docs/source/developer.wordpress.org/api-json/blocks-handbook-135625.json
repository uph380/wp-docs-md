{
    "id": 135625,
    "date": "2021-04-21T15:39:48",
    "date_gmt": "2021-04-21T15:39:48",
    "guid": {
        "rendered": "https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/"
    },
    "modified": "2025-02-17T06:34:10",
    "modified_gmt": "2025-02-17T06:34:10",
    "slug": "block-registration",
    "status": "publish",
    "type": "blocks-handbook",
    "link": "https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/",
    "title": {
        "rendered": "Registration"
    },
    "content": {
        "rendered": "<p>Block registration API reference.</p>\n<div class=\"callout callout-alert\">\nYou can use the functions documented on this page to register a block with JavaScript only on the client, but the recommended method is to register new block types also with PHP on the server using the `block.json` metadata file. See <a href=\"https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/\">metadata documentation for complete information</a><br />\n<br />\n<a href=\"https://developer.wordpress.org/block-editor/getting-started/create-block/\">Learn how to create your first block</a> for the WordPress block editor. From setting up your development environment, tools, and getting comfortable with the new development model, this tutorial covers all you need to know to get started with creating blocks.\n</div>\n<h2><code>registerBlockType</code></h2>\n<ul>\n<li><strong>Type:</strong> <code>Function</code></li>\n</ul>\n<p>Every block starts by registering a new block type definition. To register, you use the <code>registerBlockType</code> function from the <a href=\"https://developer.wordpress.org/block-editor/reference-guide/packages/packages-blocks/#registerBlockType\"><code>wp-blocks</code> package</a>. The function takes two arguments, a block <code>name</code> and a block configuration object.</p>\n<h3>Block Name</h3>\n<ul>\n<li><strong>Type:</strong> <code>String</code></li>\n</ul>\n<p>The name for a block is a unique string that identifies a block. Names have to be structured as <code>namespace/block-name</code>, where namespace is the name of your plugin or theme.</p>\n<pre><code class=\"language-js\">// Registering my block with a unique name\nregisterBlockType( 'my-plugin/book', {} );\n</code></pre>\n<p><em>Note:</em> A block name can only contain lowercase alphanumeric characters and dashes, and must begin with a letter.</p>\n<p><em>Note:</em> This name is used on the comment delimiters as <code>&lt;!-- wp:my-plugin/book --&gt;</code>. Those blocks provided by core don&#8217;t include a namespace when serialized.</p>\n<h3>Block configuration</h3>\n<ul>\n<li><strong>Type:</strong> <code>Object</code> [ <code>{ key: value }</code> ]</li>\n</ul>\n<p>A block requires a few properties to be specified before it can be registered successfully. These are defined through a configuration object, which includes the following:</p>\n<h4>title</h4>\n<ul>\n<li><strong>Type:</strong> <code>String</code></li>\n</ul>\n<p>This is the display title for your block, which can be translated with our translation functions. The title will display in the Inserter and in other areas of the editor.</p>\n<pre><code class=\"language-js\">// Our data object\ntitle: __( 'Book' );\n</code></pre>\n<p><em>Note:</em> To keep your block titles readable and accessible in the UI, try to avoid very long titles.</p>\n<h4>description (optional)</h4>\n<ul>\n<li><strong>Type:</strong> <code>String</code></li>\n</ul>\n<p>This is a short description for your block, which can be translated with our translation functions. This will be shown in the Block Tab in the Settings Sidebar.</p>\n<pre><code class=\"language-js\">description: __( 'Block showing a Book card.' );\n</code></pre>\n<h4>category</h4>\n<ul>\n<li><strong>Type:</strong> <code>String</code> [ text | media | design | widgets | theme | embed ]</li>\n</ul>\n<p>Blocks are grouped into categories to help users browse and discover them.</p>\n<p>The core provided categories are:</p>\n<ul>\n<li>text</li>\n<li>media</li>\n<li>design</li>\n<li>widgets</li>\n<li>theme</li>\n<li>embed</li>\n</ul>\n<pre><code class=\"language-js\">// Assigning to the 'widgets' category\ncategory: 'widgets',\n</code></pre>\n<p>Plugins and Themes can also register <a href=\"https://developer.wordpress.org/block-editor/reference-guides/filters/block-filters/#managing-block-categories\">custom block categories</a>.</p>\n<h4>icon (optional)</h4>\n<ul>\n<li><strong>Type:</strong> <code>String</code> | <code>Object</code></li>\n</ul>\n<p>An icon property should be specified to make it easier to identify a block. These can be any of <a href=\"https://developer.wordpress.org/resource/dashicons/\">WordPress&#8217; Dashicons</a>, or a custom <code>svg</code> element.</p>\n<pre><code class=\"language-js\">// Specifying a dashicon for the block\nicon: 'book-alt',\n\n// Specifying a custom svg for the block\nicon: &lt;svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"&gt;&lt;path fill=\"none\" d=\"M0 0h24v24H0V0z\" /&gt;&lt;path d=\"M19 13H5v-2h14v2z\" /&gt;&lt;/svg&gt;,\n</code></pre>\n<p><strong>Note:</strong> Custom SVG icons are automatically wrapped in the <a href=\"https://developer.wordpress.org/block-editor/reference-guide/packages/packages-primitives/\"><code>wp.primitives.SVG</code> component</a> to add accessibility attributes (<code>aria-hidden</code>, <code>role</code>, and <code>focusable</code>).</p>\n<p>An object can also be passed as icon, in this case, icon, as specified above, should be included in the src property.</p>\n<p>Besides src the object can contain background and foreground colors, these colors will appear with the icon when they are applicable e.g.: in the inserter.</p>\n<pre><code class=\"language-js\">icon: {\n    // Specifying a background color to appear with the icon e.g.: in the inserter.\n    background: '#7e70af',\n    // Specifying a color for the icon (optional: if not set, a readable color will be automatically defined)\n    foreground: '#fff',\n    // Specifying an icon for the block\n    src: &lt;svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"&gt;&lt;path fill=\"none\" d=\"M0 0h24v24H0V0z\" /&gt;&lt;path d=\"M19 13H5v-2h14v2z\" /&gt;&lt;/svg&gt;,\n} ,\n</code></pre>\n<h4>keywords (optional)</h4>\n<ul>\n<li><strong>Type:</strong> <code>Array</code></li>\n</ul>\n<p>Sometimes a block could have aliases that help users discover it while searching. For example, an <code>image</code> block could also want to be discovered by <code>photo</code>. You can do so by providing an array of terms (which can be translated).</p>\n<pre><code class=\"language-js\">// Make it easier to discover a block with keyword aliases.\n// These can be localised so your keywords work across locales.\nkeywords: [ __( 'image' ), __( 'photo' ), __( 'pics' ) ],\n</code></pre>\n<h4>styles (optional)</h4>\n<ul>\n<li><strong>Type:</strong> <code>Array</code></li>\n</ul>\n<p>Block styles can be used to provide alternative styles to block. It works by adding a class name to the block\u2019s wrapper. Using CSS, a theme developer can target the class name for the block style if it is selected.</p>\n<pre><code class=\"language-js\">// Register block styles.\nstyles: [\n    // Mark style as default.\n    {\n        name: 'default',\n        label: __( 'Rounded' ),\n        isDefault: true\n    },\n    {\n        name: 'outline',\n        label: __( 'Outline' )\n    },\n    {\n        name: 'squared',\n        label: __( 'Squared' )\n    },\n],\n</code></pre>\n<p>Plugins and Themes can also register <a href=\"https://developer.wordpress.org/block-editor/reference-guides/block-api/block-styles/\">custom block styles</a> for existing blocks.</p>\n<h4>attributes (optional)</h4>\n<ul>\n<li><strong>Type:</strong> <code>Object</code></li>\n</ul>\n<p>Attributes provide the structured data needs of a block. They can exist in different forms when they are serialized, but they are declared together under a common interface.</p>\n<pre><code class=\"language-js\">// Specifying my block attributes\nattributes: {\n    cover: {\n        type: 'string',\n        source: 'attribute',\n        selector: 'img',\n        attribute: 'src',\n    },\n    author: {\n        type: 'string',\n        source: 'html',\n        selector: '.book-author',\n    },\n    pages: {\n        type: 'number',\n    },\n},\n</code></pre>\n<ul>\n<li><strong>See: <a href=\"https://developer.wordpress.org/block-editor/reference-guides/block-api/block-attributes/\">Attributes</a>.</strong></li>\n</ul>\n<h4>example (optional)</h4>\n<ul>\n<li><strong>Type:</strong> <code>Object</code></li>\n</ul>\n<p>Example provides structured example data for the block. This data is used to construct a preview for the block to be shown in the Inspector Help Panel when the user mouses over the block and in the Styles panel when the block is selected.</p>\n<p>The data provided in the example object should match the attributes defined. For example:</p>\n<pre><code class=\"language-js\">example: {\n    attributes: {\n        cover: 'https://example.com/image.jpg',\n        author: 'William Shakespeare',\n        pages: 500\n    },\n},\n</code></pre>\n<p>If <code>example</code> is not defined, the preview will not be shown. So even if no attributes are defined, setting an empty example object <code>example: {}</code> will trigger the preview to show.</p>\n<p>It&#8217;s also possible to extend the block preview with inner blocks via <code>innerBlocks</code>. For example:</p>\n<pre><code class=\"language-js\">example: {\n    attributes: {\n        cover: 'https://example.com/image.jpg',\n    },\n    innerBlocks: [\n        {\n            name: 'core/paragraph',\n            attributes: {\n                /* translators: example text. */\n                content: __(\n                    'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent et eros eu felis.'\n                ),\n            },\n        },\n    ],\n},\n</code></pre>\n<p>It&#8217;s also possible to define the width of the preview container in pixels via <code>viewportWidth</code>. For example:</p>\n<pre><code class=\"language-js\">example: {\n    attributes: {\n        cover: 'https://example.com/image.jpg',\n    },\n    viewportWidth: 800\n},\n</code></pre>\n<h4>variations (optional)</h4>\n<ul>\n<li><strong>Type:</strong> <code>Object[]</code></li>\n<li><strong>Since</strong>: <code>WordPress 5.9.0</code></li>\n</ul>\n<p>Similarly to how the block&#8217;s styles can be declared, a block type can define block variations that the user can pick from. The difference is that, rather than changing only the visual appearance, this field provides a way to apply initial custom attributes and inner blocks at the time when a block is inserted. See the <a href=\"https://developer.wordpress.org/block-editor/reference-guides/block-api/block-variations/\">Block Variations API</a> for more details.</p>\n<h4>supports (optional)</h4>\n<ul>\n<li><strong><em>Type:</em></strong> <code>Object</code></li>\n</ul>\n<p>Supports contains a set of options to control features used in the editor. See <a href=\"https://developer.wordpress.org/block-editor/reference-guides/block-api/block-supports/\">the <code>supports</code> documentation</a> for more details.</p>\n<h4>transforms (optional)</h4>\n<ul>\n<li><strong>Type:</strong> <code>Object</code></li>\n</ul>\n<p>Transforms provide rules for what a block can be transformed from and what it can be transformed to. A block can be transformed from another block, a shortcode, a regular expression, a file, or a raw DOM node. Take a look at the <a href=\"https://developer.wordpress.org/block-editor/reference-guides/block-api/block-transforms/\">Block Transforms API</a> for more info about each available transformation.</p>\n<h4>parent (optional)</h4>\n<ul>\n<li><strong>Type:</strong> <code>Array</code></li>\n</ul>\n<p>Blocks are able to be inserted into blocks that use <a href=\"https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/inner-blocks/README.md\"><code>InnerBlocks</code></a> as nested content. Sometimes it is useful to restrict a block so that it is only available as a nested block. For example, you might want to allow an &#8216;Add to Cart&#8217; block to only be available within a &#8216;Product&#8217; block.</p>\n<p>Setting <code>parent</code> lets a block require that it is only available when nested within the specified blocks.</p>\n<pre><code class=\"language-js\">// Only allow this block when it is nested in a Columns block\nparent: [ 'core/columns' ],\n</code></pre>\n<h4>ancestor (optional)</h4>\n<ul>\n<li><strong>Type:</strong> <code>Array</code></li>\n<li><strong>Since</strong>: <code>WordPress 6.0.0</code></li>\n</ul>\n<p>The <code>ancestor</code> property makes a block available inside the specified block types at any position of the ancestor block subtree. That allows, for example, to place a &#8216;Comment Content&#8217; block inside a &#8216;Column&#8217; block, as long as &#8216;Column&#8217; is somewhere within a &#8216;Comment Template&#8217; block. In comparison to the <code>parent</code> property, blocks that specify their <code>ancestor</code> can be placed anywhere in the subtree whilst blocks with a specified <code>parent</code> need to be direct children.</p>\n<pre><code class=\"language-js\">// Only allow this block when it is nested at any level in a Columns block.\nancestor: [ 'core/columns' ],\n</code></pre>\n<h4>allowedBlocks (optional)</h4>\n<ul>\n<li><strong>Type:</strong> <code>Array</code></li>\n<li><strong>Since</strong>: <code>WordPress 6.5.0</code></li>\n</ul>\n<p>Setting the <code>allowedBlocks</code> property will limit which block types can be nested as direct children of the block.</p>\n<pre><code class=\"language-js\">// Only allow the Columns block to be nested as direct child of this block\nallowedBlocks: [ 'core/columns' ],\n</code></pre>\n<h4>blockHooks (optional)</h4>\n<ul>\n<li><strong>Type:</strong> <code>Object</code></li>\n<li><strong>Since</strong>: <code>WordPress 6.4.0</code></li>\n</ul>\n<p>Block Hooks is an API that allows a block to automatically insert itself next to all instances of a given block type, in a relative position also specified by the &#8220;hooked&#8221; block. That is, a block can opt to be inserted before or after a given block type, or as its first or last child (i.e. to be prepended or appended to the list of its child blocks, respectively). Hooked blocks will appear both on the frontend and in the editor (to allow for customization by the user).</p>\n<p>The key is the name of the block (<code>string</code>) to hook into, and the value is the position to hook into (<code>string</code>). Allowed target values are:</p>\n<ul>\n<li><code>before</code> \u2013 inject before the target block.</li>\n<li><code>after</code> &#8211; inject after the target block.</li>\n<li><code>firstChild</code> &#8211; inject before the first inner block of the target container block.</li>\n<li><code>lastChild</code> &#8211; inject after the last inner block of the target container block.</li>\n</ul>\n<pre><code class=\"language-js\">{\n    blockHooks: {\n        'core/verse': 'before',\n        'core/spacer': 'after',\n        'core/column': 'firstChild',\n        'core/group': 'lastChild',\n    }\n}\n</code></pre>\n<h2>Block collections</h2>\n<h2><code>registerBlockCollection</code></h2>\n<ul>\n<li><strong>Type:</strong> <code>Function</code></li>\n</ul>\n<p>Blocks can be added to collections, grouping together all blocks from the same origin</p>\n<p><code>registerBlockCollection</code> takes two parameters, <code>namespace</code> and an object of settings including <code>title</code> and <code>icon</code>.</p>\n<h3>Namespace</h3>\n<ul>\n<li><strong>Type:</strong> <code>String</code></li>\n</ul>\n<p>This should match the namespace declared in the block name; the name of your plugin or theme.</p>\n<h3>Settings</h3>\n<h4>Title</h4>\n<ul>\n<li><strong>Type:</strong> <code>String</code></li>\n</ul>\n<p>This will display in the block inserter section, which will list all blocks in this collection.</p>\n<h4>Icon</h4>\n<ul>\n<li><strong>Type:</strong> <code>Object</code></li>\n</ul>\n<p>(Optional) An icon to display alongside the title in the block inserter.</p>\n<pre><code class=\"language-js\">// Registering a block collection\nregisterBlockCollection( 'my-plugin', { title: 'My Plugin' } );\n</code></pre>\n",
        "protected": false
    },
    "author": 0,
    "featured_media": 0,
    "parent": 134406,
    "menu_order": 68,
    "template": "",
    "meta": {
        "footnotes": ""
    },
    "class_list": [
        "post-135625",
        "blocks-handbook",
        "type-blocks-handbook",
        "status-publish",
        "hentry",
        "type-handbook"
    ],
    "revision_note": "",
    "jetpack_sharing_enabled": true,
    "_links": {
        "self": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/blocks-handbook/135625",
                "targetHints": {
                    "allow": [
                        "GET"
                    ]
                }
            }
        ],
        "collection": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/blocks-handbook"
            }
        ],
        "about": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/types/blocks-handbook"
            }
        ],
        "version-history": [
            {
                "count": 20,
                "href": "https://developer.wordpress.org/wp-json/wp/v2/blocks-handbook/135625/revisions"
            }
        ],
        "predecessor-version": [
            {
                "id": 156336,
                "href": "https://developer.wordpress.org/wp-json/wp/v2/blocks-handbook/135625/revisions/156336"
            }
        ],
        "up": [
            {
                "embeddable": true,
                "href": "https://developer.wordpress.org/wp-json/wp/v2/blocks-handbook/134406"
            }
        ],
        "wp:attachment": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/media?parent=135625"
            }
        ],
        "curies": [
            {
                "name": "wp",
                "href": "https://api.w.org/{rel}",
                "templated": true
            }
        ]
    }
}